[gd_scene format=3 uid="uid://wcivvopfrikk"]

[ext_resource type="Script" uid="uid://djmxsanm0oebl" path="res://Hakeem/scripts/game_manager.gd" id="1_t5kwq"]
[ext_resource type="PackedScene" uid="uid://2uy3p24dwfyb" path="res://Scenes/Level4.tscn" id="2_ktnig"]
[ext_resource type="PackedScene" uid="uid://ci5djhf2onhk2" path="res://Hakeem/scenes/Hole.tscn" id="2_ms3ee"]
[ext_resource type="MeshLibrary" uid="uid://dyooyv1tv6vsc" path="res://Assets/golfFr.meshlib" id="3_ktnig"]
[ext_resource type="PackedScene" uid="uid://cihmwbik685yv" path="res://Assets/kennyGolf/flag-red.glb" id="3_ms3ee"]
[ext_resource type="PackedScene" uid="uid://brvr0b3yd08hg" path="res://Hakeem/scenes/ball.tscn" id="4_nfsas"]
[ext_resource type="Script" uid="uid://8vyuhyx0xogt" path="res://addons/freecam_3D/freecam.gd" id="5_xxw0v"]
[ext_resource type="Script" uid="uid://w35rocmctxqt" path="res://Sheref/Scenes/raycast_place.gd" id="6_5pcch"]
[ext_resource type="PackedScene" uid="uid://drpyecvpqsojc" path="res://Sheref/Scenes/pull_ghost.tscn" id="7_85b6l"]
[ext_resource type="Script" uid="uid://craekggkqk7qc" path="res://Hakeem/scripts/state_machine.gd" id="8_qq3uj"]
[ext_resource type="Script" uid="uid://dtgvrovjwxvaj" path="res://Hakeem/scripts/ball_camera_state.gd" id="9_e63ni"]
[ext_resource type="Script" uid="uid://ehywccd4wy43" path="res://Hakeem/scripts/free_camera_state.gd" id="10_bnsu8"]
[ext_resource type="PackedScene" uid="uid://1ynfq6j3mvnf" path="res://Sheref/Scenes/ghost_selector.tscn" id="11_al7xm"]
[ext_resource type="PackedScene" uid="uid://bnwtvfpn55ysb" path="res://Sheref/Scenes/ghost_tooltip.tscn" id="12_81bqa"]
[ext_resource type="PackedScene" path="res://Hakeem/scenes/killzone.tscn" id="13_yi7gs"]
[ext_resource type="PackedScene" uid="uid://dgameuiscene" path="res://Scenes/game_ui.tscn" id="14_dg25f"]
[ext_resource type="PackedScene" path="res://Scenes/dialogue_box.tscn" id="15_ffujx"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_q1rpn"]
sky_top_color = Color(0.3156387, 0.400838, 0.8336093, 1)
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_bottom_color = Color(0.36250004, 0.48531127, 0.8364927, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_c6iih"]
sky_material = SubResource("ProceduralSkyMaterial_q1rpn")

[sub_resource type="Environment" id="Environment_h6qgw"]
background_mode = 2
sky = SubResource("Sky_c6iih")
tonemap_mode = 2
glow_enabled = true

[node name="FullLevelTest" type="Node3D" unique_id=573101184]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=367762448]
environment = SubResource("Environment_h6qgw")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=307499351]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="GameManager" type="Node" parent="." unique_id=175576669]
unique_name_in_owner = true
script = ExtResource("1_t5kwq")
nextSecene = ExtResource("2_ktnig")

[node name="Hole" parent="GameManager" unique_id=36256616 instance=ExtResource("2_ms3ee")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.5, 0.29841045, -15.010636)

[node name="CollisionShape3D" parent="GameManager/Hole" index="0" unique_id=2140770143]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.016657352, -0.18662739, 0.010822296)
debug_color = Color(0, 0.6, 0.69803923, 0.6509804)

[node name="flag-red2" parent="GameManager/Hole" unique_id=1442105961 instance=ExtResource("3_ms3ee")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.19133481, 0)

[node name="GridMap" type="GridMap" parent="GameManager" unique_id=876672698]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)
mesh_library = ExtResource("3_ktnig")
cell_size = Vector3(0.5, 0.05, 0.5)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(65533, 5, 1441831, 0, 4, 41, 65530, 4, 1441833, 65533, 3, 655384, 65529, 1, 90, 65531, 1, 655381, 65533, 1, 655381, 65535, 1, 655381, 1, 1, 90, 65535, 65535, 655382, 65531, 65535, 655382, 65533, 65535, 655382, 65529, 65535, 655382, 1, 65535, 655382, 65529, 65534, 655399, 65529, 0, 655399, 1, 0, 39, 1, 65534, 39, 1, 65531, 39, 1, 65529, 39, 65529, 65529, 655399, 65529, 65531, 655399, 65531, 65531, 655365, 65535, 65531, 655365, 65531, 65529, 655383, 65535, 65529, 1441815, 65533, 65529, 1441814, 65532, 65528, 22, 65534, 65528, 22, 65529, 65527, 20, 1, 65527, 20, 65531, 65527, 24, 65535, 65527, 24, 65529, 65525, 655400, 1, 65525, 1048616, 65533, 65526, 1048590, 65531, 65525, 1048615, 65535, 65525, 1048615, 65533, 65524, 1048577, 65530, 65534, 22, 65532, 65534, 22, 65534, 65534, 22, 0, 65534, 22, 65529, 65533, 22, 65531, 65533, 22, 65533, 65533, 22, 65535, 65533, 22, 1, 65533, 22, 65530, 65532, 22, 0, 65532, 22, 65529, 65532, 655399, 1, 65532, 39, 65530, 1, 90, 65532, 1, 90, 65534, 1, 90, 0, 1, 90, 65533, 65531, 24, 65532, 65532, 22, 65534, 65532, 22)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Ball" parent="GameManager" unique_id=411611324 instance=ExtResource("4_nfsas")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.2812233, 0.37401742, 7.8896847)

[node name="Freecam3D" type="Camera3D" parent="GameManager" unique_id=835960371]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource("5_xxw0v")
metadata/_custom_type_script = "uid://8vyuhyx0xogt"

[node name="RayCast3D" type="RayCast3D" parent="GameManager/Freecam3D" unique_id=1299317908]
target_position = Vector3(0, 0, -30)
script = ExtResource("6_5pcch")
building_scene = ExtResource("7_85b6l")

[node name="StateMachine" type="Node" parent="GameManager" unique_id=235503467 node_paths=PackedStringArray("initial_state")]
script = ExtResource("8_qq3uj")
initial_state = NodePath("ball_camera_state")

[node name="ball_camera_state" type="Node" parent="GameManager/StateMachine" unique_id=472957464]
script = ExtResource("9_e63ni")

[node name="free_camera_state" type="Node" parent="GameManager/StateMachine" unique_id=1454004940]
script = ExtResource("10_bnsu8")

[node name="ui" type="Node" parent="GameManager" unique_id=1845031449]

[node name="ghost_selector" parent="GameManager/ui" unique_id=992232534 instance=ExtResource("11_al7xm")]
visible = false
offset_top = -181.0
offset_bottom = 8.0

[node name="ghost_tooltip" parent="GameManager/ui" unique_id=640808707 instance=ExtResource("12_81bqa")]
visible = false

[node name="Killzone" parent="GameManager" unique_id=258273182 instance=ExtResource("13_yi7gs")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6061659, -2.4635687, -1.5597734)

[node name="GameUI" parent="GameManager" unique_id=659565879 instance=ExtResource("14_dg25f")]

[node name="DialogueBox" parent="GameManager" unique_id=1693373207 instance=ExtResource("15_ffujx")]

[connection signal="ball_entered" from="GameManager/Hole" to="GameManager" method="_on_hole_ball_entered"]
[connection signal="changed_ghost_selection" from="GameManager/ui/ghost_selector" to="GameManager" method="_on_ghost_selector_changed_ghost_selection"]
[connection signal="death" from="GameManager/Killzone" to="GameManager" method="_on_killzone_death"]

[editable path="GameManager/Hole"]
[editable path="GameManager/Ball"]
[editable path="GameManager/Ball/hit_vfx"]
