[gd_scene format=3 uid="uid://d3utw4830u1ip"]

[ext_resource type="Script" uid="uid://djmxsanm0oebl" path="res://Hakeem/scripts/game_manager.gd" id="1_bqw1j"]
[ext_resource type="PackedScene" uid="uid://ci5djhf2onhk2" path="res://Hakeem/scenes/Hole.tscn" id="2_6xoqc"]
[ext_resource type="PackedScene" uid="uid://c2nc44uvie3vw" path="res://Scenes/Level2.tscn" id="2_ug0sv"]
[ext_resource type="MeshLibrary" uid="uid://dyooyv1tv6vsc" path="res://Assets/golfFr.meshlib" id="3_8j1bt"]
[ext_resource type="PackedScene" uid="uid://cful8kljnvof" path="res://Assets/kennyGolf/flag-green.glb" id="4_0wsr5"]
[ext_resource type="PackedScene" uid="uid://brvr0b3yd08hg" path="res://Hakeem/scenes/ball.tscn" id="4_eh75k"]
[ext_resource type="Script" uid="uid://8vyuhyx0xogt" path="res://addons/freecam_3D/freecam.gd" id="5_rgqsp"]
[ext_resource type="Script" uid="uid://w35rocmctxqt" path="res://Sheref/Scenes/raycast_place.gd" id="6_fw4ol"]
[ext_resource type="PackedScene" uid="uid://drpyecvpqsojc" path="res://Sheref/Scenes/pull_ghost.tscn" id="7_m1qo6"]
[ext_resource type="Script" uid="uid://craekggkqk7qc" path="res://Hakeem/scripts/state_machine.gd" id="8_i8eb3"]
[ext_resource type="Script" uid="uid://dtgvrovjwxvaj" path="res://Hakeem/scripts/ball_camera_state.gd" id="9_saqfx"]
[ext_resource type="Script" uid="uid://ehywccd4wy43" path="res://Hakeem/scripts/free_camera_state.gd" id="10_0vmuw"]
[ext_resource type="PackedScene" uid="uid://1ynfq6j3mvnf" path="res://Sheref/Scenes/ghost_selector.tscn" id="11_fxb21"]
[ext_resource type="PackedScene" uid="uid://bnwtvfpn55ysb" path="res://Sheref/Scenes/ghost_tooltip.tscn" id="12_u6on2"]
[ext_resource type="PackedScene" path="res://Hakeem/scenes/killzone.tscn" id="13_mqmk0"]
[ext_resource type="PackedScene" uid="uid://dgameuiscene" path="res://Scenes/game_ui.tscn" id="14_wlcll"]
[ext_resource type="PackedScene" path="res://Scenes/dialogue_box.tscn" id="15_oohrn"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_q1rpn"]
sky_top_color = Color(0.3156387, 0.400838, 0.8336093, 1)
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_bottom_color = Color(0.36250004, 0.48531127, 0.8364927, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_c6iih"]
sky_material = SubResource("ProceduralSkyMaterial_q1rpn")

[sub_resource type="Environment" id="Environment_h6qgw"]
background_mode = 2
sky = SubResource("Sky_c6iih")
tonemap_mode = 2
glow_enabled = true

[node name="FullLevelTest2" type="Node3D" unique_id=573101184]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=367762448]
environment = SubResource("Environment_h6qgw")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=307499351]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="GameManager" type="Node" parent="." unique_id=175576669]
unique_name_in_owner = true
script = ExtResource("1_bqw1j")
nextSecene = ExtResource("2_ug0sv")
intro_dialogues = Array[String](["WIZARD: Golf! facinating isn't it?", "WIZARD: people will chear you on just for manipulating a physical object to a designated spot.", "WIZARD: A task made trivial by the power of ghostly manipulation.", "WIZARD: I feel like I need a refresher, its been some time since I contacted any ghosts...", "WIZARD: Use WASD to move the camera and look around with the mouse.", "WIZARD: Use the \"tab\" key to unlock your mouse cursor.", "WIZARD: Once you're ready, press B to switch to ball mode and take your shot!"])
transition_dialogues = Array[String](["REPORTER: And we're live! The mysterious wizard golfer is about to take their shot!", "WIZARD: Just watch and learn...", "REPORTER: The tension is palpable! What supernatural forces will they unleash?"])

[node name="Hole" parent="GameManager" unique_id=36256616 instance=ExtResource("2_6xoqc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.500442, 0.109913185, -3.5023594)

[node name="CollisionShape3D" parent="GameManager/Hole" index="0" unique_id=2140770143]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, -1)
debug_color = Color(0, 0.6, 0.69803923, 0.6509804)

[node name="flag-green2" parent="GameManager/Hole" unique_id=9382130 instance=ExtResource("4_0wsr5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.9884157, 0, -1.0229087)

[node name="GridMap" type="GridMap" parent="GameManager" unique_id=876672698]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)
mesh_library = ExtResource("3_8j1bt")
cell_size = Vector3(0.5, 0.05, 0.5)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(65533, 5, 1441831, 65531, 5, 1441799, 65535, 5, 7, 65531, 3, 655399, 65531, 1, 655399, 65535, 3, 39, 65535, 1, 39, 65533, 3, 113, 65533, 1, 24, 65532, 65534, 655401, 65535, 65535, 39, 65535, 65533, 1048615, 1, 65533, 1048591)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Ball" parent="GameManager" unique_id=411611324 instance=ExtResource("4_eh75k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.0178313, 0.37401742, 7.8896847)

[node name="Freecam3D" type="Camera3D" parent="GameManager" unique_id=835960371]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource("5_rgqsp")
metadata/_custom_type_script = "uid://8vyuhyx0xogt"

[node name="RayCast3D" type="RayCast3D" parent="GameManager/Freecam3D" unique_id=1299317908]
target_position = Vector3(0, 0, -30)
script = ExtResource("6_fw4ol")
building_scene = ExtResource("7_m1qo6")

[node name="StateMachine" type="Node" parent="GameManager" unique_id=235503467 node_paths=PackedStringArray("initial_state")]
script = ExtResource("8_i8eb3")
initial_state = NodePath("free_camera_state")

[node name="ball_camera_state" type="Node" parent="GameManager/StateMachine" unique_id=472957464]
script = ExtResource("9_saqfx")

[node name="free_camera_state" type="Node" parent="GameManager/StateMachine" unique_id=1454004940]
script = ExtResource("10_0vmuw")

[node name="ui" type="Node" parent="GameManager" unique_id=1845031449]

[node name="ghost_selector" parent="GameManager/ui" unique_id=992232534 instance=ExtResource("11_fxb21")]
visible = false
offset_top = -181.0
offset_bottom = 8.0

[node name="ghost_tooltip" parent="GameManager/ui" unique_id=640808707 instance=ExtResource("12_u6on2")]
visible = false

[node name="Killzone" parent="GameManager" unique_id=258273182 instance=ExtResource("13_mqmk0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6061659, -2.4635687, -1.5597734)

[node name="GameUI" parent="GameManager" unique_id=659565879 instance=ExtResource("14_wlcll")]
par_value = 2

[node name="DialogueBox" parent="GameManager" unique_id=1693373207 instance=ExtResource("15_oohrn")]

[connection signal="ball_entered" from="GameManager/Hole" to="GameManager" method="_on_hole_ball_entered"]
[connection signal="changed_ghost_selection" from="GameManager/ui/ghost_selector" to="GameManager" method="_on_ghost_selector_changed_ghost_selection"]
[connection signal="death" from="GameManager/Killzone" to="GameManager" method="_on_killzone_death"]

[editable path="GameManager/Hole"]
[editable path="GameManager/Ball"]
[editable path="GameManager/Ball/hit_vfx"]
